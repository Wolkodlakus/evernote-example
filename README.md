# evernote-example
Набор скриптов для работы с сервисом API [Evernote]((https://evernote.com/)) - веб-сервиса и 
набора программного обеспечения для создания и хранения заметок.

# Получение TOKEN'ов
Для начала нужно получить [Evernote API Key](https://dev.evernote.com/doc/start/python.php#).
Причём для работы со всеми скриптами нужно выбирать вариант "Full access".
После получения Consumer key и Consumer secret нужно получить [Token](https://dev.evernote.com/get-token/).
Можно выбирать Sandbox или Production.


#Установка
Python 2 должен быть уже установлен.
Затем используйте `pip`  для установки зависимостей:
```commandline
$ pip install -r requirements.txt
```
# .env
Файл .env заполняется по примеру .env.example. 
Туда нужно внести ключи, токены и работаем ли в песочнице. Кроме этого, нужно внести:
* `JOURNAL_NOTEBOOK_GUID` получается из вывода list_notebooks.py
* `INBOX_NOTEBOOK_GUID` (блокнот для входящих) также выбираем из этого вывода.
* `JOURNAL_TEMPLATE_NOTE_GUID` - это GUID заметки, которую вы хотите использовать как шаблон.
```html
https://www.evernote.com/client/web#?n=b0909ae3-4944-91ac-def8-48210c6a9e88&
```
или
```html
https://www.sandbox.evernote.com/client/web#?n=b0909ae3-4944-91ac-def8-48210c6a9e88&
```


#Скрипты
## list_notebooks
Скрипт обращается к серверу с использованием ключа разработчика (`EVERNOTE_PERSONAL_TOKEN`). Возвращает 
список блокнотов notebooks данного аккаунта в виде "GUID - заголовки". Например, 
```
68634e2b-a1d6-41ab-b228-439e5d7b91d2 - Первый блокнот
```


## dump_inbox
Выводит список заметок блокнота с указанным GUID из блокнота для входящих -`INBOX_NOTEBOOK_GUID` из .env:
По умолчанию это 10 последних. Однако можно передать нужное количество в качестве параметра при записи
Можно передать любое количество заметок при запуске скрипта:
```commandline
python dump_inbox.py <кол-во_заметок>
```


## add_note2journal

Создаёт новую заметку в блокноте `JOURNAL_NOTEBOOK_GUID`, используя в качестве шаблона
`JOURNAL_TEMPLATE_NOTE_GUID`. 

Содержимое и заголовок заметки-шаблона копируются в новую заметку. 
Можно использовать 2 автоматически подставляемых значения:
* {date} - заменяется на текущую дату
* {dow} - заменяется на название текущего дня недели (по-русски с маленькой буквы)

При необходимости можно передать дату параметром при вызове скрипта (строго в форматеYYYY-MM-DD).

```
python add_note2journal.py <дата_в_формате_YYYY-MM-DD>
```

В заголовок копии по умолчанию вставляется сегодняшняя дата и день недели. При необходимости
можно указать любую другую дату при запуске кода:

``` commandline
python add_note2journal.py <YYYY-MM-DD>
```
Выводится название сгенерированной заметки.


## Цель проекта
Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).